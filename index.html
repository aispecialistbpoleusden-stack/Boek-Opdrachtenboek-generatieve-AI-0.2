<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactief AI Opdrachtenboek</title>
    <style>
        :root { --primary: #2c3e50; --accent: #3498db; --bg: #f4f7f6; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--primary); margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: 0 auto; }
        .card { background: white; border-radius: 12px; padding: 25px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h1 { border-bottom: 3px solid var(--accent); padding-bottom: 10px; margin-top: 0; }
        h2, h3 { color: var(--accent); }
        
        select, textarea, input { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        button { background: var(--accent); color: white; border: none; padding: 15px 30px; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; width: 100%; }
        button:hover { background: #2980b9; }

        .instructie-box { background: #eef2f3; padding: 20px; border-left: 5px solid var(--accent); margin: 20px 0; border-radius: 0 8px 8px 0; }
        .opdracht-img { width: 100%; max-height: 400px; object-fit: contain; background: #fff; border-radius: 8px; margin-bottom: 15px; display: none; border: 1px solid #eee; }
        
        .entry { border-left: 5px solid var(--accent); padding: 15px; margin-bottom: 15px; background: #fff; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .entry b { color: var(--accent); }
        pre { white-space: pre-wrap; background: #f9f9f9; padding: 10px; border: 1px solid #eee; font-size: 0.9em; overflow-x: auto; }
        
        #app-content { display: none; }
        #login-screen { text-align: center; }
        details { cursor: pointer; margin-top: 10px; }
    </style>
</head>
<body>

<div class="container">
    <div id="login-screen" class="card">
        <h1>AI Opdrachtenboek</h1>
        <p>Voer je naam in om deel te nemen aan de interactieve sessie:</p>
        <input type="text" id="username" placeholder="Je volledige naam...">
        <button onclick="startApp()">Start het Werkboek</button>
    </div>

    <div id="app-content">
        <div class="card">
            <h1>Hoi, <span id="user-display"></span>!</h1>
            <label>Kies een opdracht uit het boek:</label>
            <select id="opdracht-selector">
                <option value="1a">Oefening 1A: Eenvoudig beginnen</option>
                <option value="1b">Oefening 1B: Verschillende GPT's</option>
                <option value="2">Oefening 2: Testen met verschillende prompts</option>
                <option value="3">Oefening 3: Prompt bouwen</option>
                <option value="4">Oefening 4: ChatGPT als assistent</option>
                <option value="5">Oefening 5: Experimenteren met tips</option>
                <option value="6">Oefening 6: De zeven gouden W-vragen</option>
                <option value="7">Oefening 7: Werken met tabellen</option>
                <option value="8">Oefening 8: Laat de AI de prompt schrijven</option>
                <option value="9">Oefening 9: Taaltoets laten maken</option>
                <option value="10">Oefening 10: Prompt Engineering</option>
                <option value="11">Oefening 11: Afbeeldingen genereren</option>
                <option value="12">Oefening 12: There is an AI for that!</option>
            </select>

            <div class="instructie-box">
                <img id="opdracht-beeld" class="opdracht-img" src="" alt="Opdracht afbeelding">
                <div id="opdracht-tekst">Selecteer een opdracht om de instructies te zien.</div>
            </div>

            <label>Jouw gebruikte Prompt:</label>
            <textarea id="input-prompt" rows="3" placeholder="Wat heb je ingetypt bij de AI?"></textarea>
            
            <label>Resultaat van de AI:</label>
            <textarea id="input-resultaat" rows="6" placeholder="Plak hier de output van de AI..."></textarea>
            
            <button id="btn-deel">Deel mijn resultaat</button>
        </div>

        <div class="card">
            <h2>Live Feed: Leren van elkaar</h2>
            <div id="feed-container">Laden van inzendingen...</div>
        </div>
    </div>
</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getDatabase, ref, push, set, onValue } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

    // JOUW FIREBASE CONFIGURATIE
    const firebaseConfig = {
        apiKey: "AIzaSyC_qP9Yyr5BGLvHVuUC4Tham4M0AwPEEJE",
        authDomain: "opdrachtenboek-generatieve-ai.firebaseapp.com",
        databaseURL: "https://opdrachtenboek-generatieve-ai-default-rtdb.europe-west1.firebasedatabase.app",
        projectId: "opdrachtenboek-generatieve-ai",
        storageBucket: "opdrachtenboek-generatieve-ai.firebasestorage.app",
        messagingSenderId: "183622966071",
        appId: "1:183622966071:web:aa58e8acb48cf9cec318b2"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // DE CONTENT UIT DE PDF (Zonder mapjes voor afbeeldingen)
    const opdrachtData = {
        "1a": { t: "Eenvoudig beginnen", i: "Stel de vraag: 'Maak de volgende zin af: De Italiaanse man had een hekel aan pizza met Ham, kaas en ..'. Vraag daarna om uitleg over privacy voor groep 7.", img: "oefening1a.jpg" },
        "1b": { t: "Verschillende GPT's", i: "Herhaal de vragen uit 1A in Gemini, ChatGPT en Copilot. Vergelijk de verschillen in antwoorden.", img: "oefening1b.jpg" },
        "2": { t: "Testen met prompts", i: "Laat een docent Politieacademie privacy uitleggen in 8 punten. Of herschrijf een tekst naar B1 niveau.", img: "oefening2.jpg" },
        "3": { t: "Prompt bouwen", i: "Gebruik rollen: Laat Mark Rutte of Geert Wilders het belang van roze konijntjes uitleggen.", img: "oefening3.jpg" },
        "4": { t: "ChatGPT als assistent", i: "Maak een fitnessprogramma, maar dwing de AI om eerst vragen aan jóú te stellen over je gezondheid.", img: "oefening4.jpg" },
        "5": { t: "Tips experiment", i: "Vergelijk een korte prompt met een uitgebreide prompt inclusief context en doelgroep.", img: "oefening5.jpg" },
        "6": { t: "7 Gouden W-vragen", i: "Pas de W-vragen methode toe (Wie, Wat, Waar, etc.) om een kerstverhaal over een eekhoorn te schrijven.", img: "oefening6.jpg" },
        "7": { t: "Werken met tabellen", i: "Laat de AI een tabel maken van de 9 werelden uit de Noorse mythologie met hun kenmerken.", img: "oefening7.jpg" },
        "8": { t: "AI schrijft de prompt", i: "Vraag de AI: 'Ik wil een cursus over stenen gereedschap maken, help mij deze prompt te verbeteren'.", img: "oefening8.jpg" },
        "9": { t: "Taaltoets maken", i: "Kopieer vragen van hbotaaltoets.nl naar de AI en kijk of hij de juiste antwoorden geeft.", img: "oefening9.jpg" },
        "10": { t: "Prompt Engineering", i: "Experimenteer met de toon van het gesprek. Laat 'Bob' (een virtuele collega) discussiëren over klimaat.", img: "oefening10.jpg" },
        "11": { t: "Afbeeldingen", i: "Genereer een afbeelding van een futuristisch klaslokaal in digitale kunst stijl.", img: "oefening11.jpg" },
        "12": { t: "AI Tools", i: "Zoek een tool op theresanaiforthat.com die nuttig is voor jouw werk en deel deze.", img: "oefening12.jpg" }
    };

    // UI LOGICA
    window.startApp = () => {
        const name = document.getElementById('username').value;
        if (!name) return alert("Vul je naam in!");
        localStorage.setItem('ai_naam', name);
        initView(name);
    };

    function initView(name) {
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('app-content').style.display = 'block';
        document.getElementById('user-display').innerText = name;
        updateOpdracht();
    }

    const sel = document.getElementById('opdracht-selector');
    sel.onchange = updateOpdracht;

    function updateOpdracht() {
        const data = opdrachtData[sel.value];
        document.getElementById('opdracht-tekst').innerHTML = `<h3>${data.t}</h3><p>${data.i}</p>`;
        const imgEl = document.getElementById('opdracht-beeld');
        imgEl.src = data.img;
        imgEl.style.display = "block";
        // Reset image if loading fails (bijv. als bestand niet bestaat op GitHub)
        imgEl.onerror = () => { imgEl.style.display = "none"; };
    }

    // DATABASE ACTIES
    document.getElementById('btn-deel').onclick = () => {
        const promptText = document.getElementById('input-prompt').value;
        const resultText = document.getElementById('input-resultaat').value;
        const naam = localStorage.getItem('ai_naam');
        const oefeningTitel = opdrachtData[sel.value].t;

        if(!promptText || !resultText) return alert("Vul beide velden in!");

        const inzendingenRef = ref(db, 'inzendingen');
        const nieuweInzending = push(inzendingenRef);
        set(nieuweInzending, {
            naam: naam,
            oefening: oefeningTitel,
            prompt: promptText,
            result: resultText,
            tijd: Date.now()
        });

        document.getElementById('input-prompt').value = '';
        document.getElementById('input-resultaat').value = '';
        alert("Succesvol gedeeld met de groep!");
    };

    // REAL-TIME FEED
    const feedRef = ref(db, 'inzendingen');
    onValue(feedRef, (snapshot) => {
        const container = document.getElementById('feed-container');
        container.innerHTML = '';
        const data = snapshot.val();
        if(data) {
            // Laatste inzendingen bovenaan
            const items = Object.values(data).reverse();
            items.forEach(item => {
                const div = document.createElement('div');
                div.className = 'entry';
                div.innerHTML = `
                    <b>${item.naam}</b> werkt aan <i>${item.oefening}</i>:<br>
                    <strong>De Prompt:</strong> ${item.prompt}<br>
                    <details>
                        <summary>Klik om AI Resultaat te zien</summary>
                        <pre>${item.result}</pre>
                    </details>
                `;
                container.appendChild(div);
            });
        } else {
            container.innerHTML = '<p>Nog geen inzendingen. Wees de eerste!</p>';
        }
    });

    // Onthoud login bij verversen
    const savedName = localStorage.getItem('ai_naam');
    if(savedName) initView(savedName);
</script>

</body>
</html>
